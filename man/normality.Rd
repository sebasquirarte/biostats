% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/normality.R
\name{normality}
\alias{normality}
\title{Statistical and Visual Normality Assessment}
\usage{
normality(x, data = NULL, outliers = FALSE, color = "#79E1BE")
}
\arguments{
\item{x}{Numeric vector or variable name (if data provided). Missing values removed.}

\item{data}{Optional data frame containing the variable.}

\item{outliers}{Logical; if TRUE, displays all outlier row indices. Default FALSE.}

\item{color}{Color for plots. Default "#79E1BE".}
}
\value{
Prints results to console and invisibly returns a list with:
\item{shapiro}{Shapiro-Wilk test results}
\item{skewness}{Sample skewness}
\item{kurtosis}{Sample excess kurtosis}
\item{normal}{Logical; TRUE if data appears normal}
\item{outliers}{Row indices of all outliers}
\item{extreme_outliers}{Row indices of most extreme outliers (labeled in plot)}
\item{qq_plot}{ggplot Q-Q plot object}
\item{hist_plot}{ggplot histogram object}
}
\description{
Tests normality using Shapiro-Wilk test with Q-Q plots and histograms.
Automatically detects outliers and provides comprehensive visual and
statistical assessment of data normality.
}
\details{
Combines Shapiro-Wilk test (p > 0.05) with skewness assessment (|skewness| < 1)
for robust normality evaluation. Q-Q plot includes 95\% confidence bands for
outlier detection.
}
\note{
Requires ggplot2 and gridExtra packages. Minimum 3 observations needed.
For n > 5000, consider alternative normality tests.
}
\examples{
clinical_df <- clinical_data()

# Normal distribution (age)
normality("age", data = clinical_df)

# With outliers displayed
normality("biomarker", data = clinical_df, outliers = TRUE)

}
